<!DOCTYPE html>
<html lang="en">

<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">


        <title>Pupper Software on Ubuntu</title>

            <link href="https://androiddrew.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Androiddrew Full Atom Feed" />
        <!-- Custom CSS -->
        <link href="https://androiddrew.github.io/theme/css/ruckenwind.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="https://androiddrew.github.io/theme/css/code_blocks/monokai.css" rel="stylesheet">


        <!-- Custom Fonts -->
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>



        <meta name="description" content="I assume the project expects you to use Raspbian, I instead elected to use the 64 bit version of Ubuntu, because I have something wrong...">

        <meta name="author" content="Drew Bednar">

        <meta name="tags" content="pupper">
        <meta name="tags" content="pi">
        <meta name="tags" content="robotics">
        <meta name="tags" content="python">
        <meta name="tags" content="ubuntu">

	                <meta property="og:locale" content="">
		<meta property="og:site_name" content="Androiddrew">

	<meta property="og:type" content="article">
            <meta property="article:author" content="https://androiddrew.github.io/author/drew-bednar.html">
	<meta property="og:url" content="https://androiddrew.github.io/drafts/pupper-ubuntu-arm.html">
	<meta property="og:title" content="Pupper Software on Ubuntu">
	<meta property="article:published_time" content="2020-06-21 00:00:00-04:00">
            <meta property="og:description" content="I assume the project expects you to use Raspbian, I instead elected to use the 64 bit version of Ubuntu, because I have something wrong...">

            <meta property="og:image" content="https://androiddrew.github.io/theme/img/post-bg.jpg">
    <link rel="icon" href="/images/icons/favicon-32x32.png">
</head>

<body class="bg-gray-50 text-xl">
    <header>
      <div class="relative">
        <div class="absolute inset-0">
    <!-- Page Header -->
          <img class="h-full w-full object-cover" src="https://androiddrew.github.io/theme/img/post-bg.jpg" alt="" aria-hidden="true" />
        </div>
    <!-- Nav Menu -->
    <div class="absolute inset-0">
<nav class="relative mx-auto text-white sticky top-0 z-10">
  <!-- flex container for alignment. Gives flex row by default. Aligning items in the center. Justifing content with between option -->
  <div id="navbar" class="flex items-center md:justify-between justify-end">
      <!-- Logo with padding top 2 -->
      <!-- Menu items -->
      <!-- flex again for alignment but disappear on sm screens -->
      <!-- So on md: flex  -->
      <div class="hidden md:block">
        <a class="p-6 text-xl font-extrabold hover:text-gray-400 duration-300 tracking-normal" href="https://androiddrew.github.io/">Androiddrew</a>
      </div>
      <div class="hidden md:flex">
        <a class="py-6 px-3 first:pl-6 last:pr-6 uppercase text-sm font-semibold hover:text-gray-400 duration-300 tracking-wide" href="/categories.html">Categories</a>
        <a class="py-6 px-3 first:pl-6 last:pr-6 uppercase text-sm font-semibold hover:text-gray-400 duration-300 tracking-wide" href="/tags.html">Tags</a>
            <a class="py-6 px-3 first:pl-6 last:pr-6 uppercase text-sm font-semibold hover:text-gray-400 duration-300 tracking-wide" href="https://androiddrew.github.io/About Androiddrew/">About Me</a>
      </div>
      <!-- Button -->
      <!-- Hidden on smaller screens but on md(and up) display as block -->
  <!-- Hamburger Icon -->
  <button id="menu-btn" class="m-3 mr-6 p-3 block hamburger md:hidden focus:outline-none">
      <span class="hamburger-top"></span>
      <span class="hamburger-middle"></span>
      <span class="hamburger-bottom"></span>
  </button>
  </div>
  <!-- Mobile Menu -->
  <div class="md:hidden">
      <!-- Because it is being placed in the relative div above. -->
      <div id="menu" class="bg-gray-50 text-gray-800 absolute flex-col items-center self-end hidden py-8 mt- space-y-3 font-bold sm:w-auto sm:self-center left-6 right-6 drop-shadow-md">
        <a class="underline px-4 py-2 uppercase font-semibold hover:text-indigo-500 duration-300 tracking-wide" href="https://androiddrew.github.io/">Androiddrew</a>
        <a class="underline px-4 py-2 uppercase font-semibold hover:text-indigo-500 duration-300 tracking-wide" href="/categories.html">Categories</a>
        <a class="underline px-4 py-2 uppercase font-semibold hover:text-indigo-500 duration-300 tracking-wide" href="/tags.html">Tags</a>
            <a class="underline px-4 py-2 uppercase  font-semibold hover:text-indigo-500 duration-300 tracking-wide" href="https://androiddrew.github.io/About Androiddrew/">About Me</a>
      </div>
  </div>
</nav>      </div>
    <!-- End Nav Menu -->
        <div class="relative mx-auto max-w-xl lg:max-w-4xl py-16 px-4 sm:py-32 sm:px-6 lg:px-8 text-center">
          <h1 class="text-5xl md:text-7xl lg:text-8xl font-extrabold tracking-normal text-white align-middle">
            Pupper Software on Ubuntu
          </h1>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="text-gray-900">
      <div class="mt-16 flex justify-center space-x-6 mx-auto max-w-3xl">
        <div class="mx-4 space-y-6 md:space-y-10 lg:space-y-12">
      <!-- <div class="mt-16 flex justify-center mx-auto max-w-3xl">
          <div class="mx-4">  -->
    <!-- Post Content -->
    <article class="content prose prose-lg hover:prose-a:text-indigo-500 prose-img:mx-auto lg:prose-xl">
        <p>I assume the project expects you to use Raspbian, I instead elected to use the 64 bit version of Ubuntu, because I have 
something wrong with my brain and always do things the hard way. This of course required a few extra steps after 
setting up the SD card. </p>
<ol>
<li>I updated the hostname in <code>/etc/hostname</code> to <code>pupper</code></li>
<li>Since Ubuntu uses the <a href="https://netplan.io/examples">netplan tool</a> for configuration you will need to either add the 
appropriate config block to the <a href="https://ubuntu.com/tutorials/how-to-install-ubuntu-on-your-raspberry-pi#3-wifi-or-ethernet"><code>network-config</code> under the system boot</a>
, or add a <code>.yaml</code> file under <code>/etc/netplan</code>. I found myself already logged in so I opted for the latter. Here is a 
minimal example config.</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="gh">#</span>/etc/netplan/config.yaml
network:
  version: 2
  wifis:
    wlan0:
      dhcp4: true
      dhcp6: false
      access-points:
        &quot;network_ssid_name&quot;:
          password: &quot;**********&quot;
</code></pre></div>

<p>After saving the file just <code>sudo netplan apply</code>. You can then confirm your config worked by checking that the interface 
received and ip with <code>netplan ip leases wlan0</code>, <code>wlan0</code> being the interface we defined above. Note you can add multiple 
access points to the file if you will be taking your device to other locations.</p>
<ol>
<li>While Python3.8 ships with Ubuntu it does not have venv or pip installed. </li>
</ol>
<div class="codehilite"><pre><span></span><code>sudo apt install -y python3-venv python3-pip
</code></pre></div>

<h3>Following most of the Stanford install instructions</h3>
<p>I did not include the <a href="https://pupper.readthedocs.io/en/latest/code/code.html#rpi-setup">RPI-Setup</a>. One of the things 
this will do is set the filesystem to readonly because power failures, like in robotics will card SD Card file corruption.
I am pretty sure I can accomplish this here https://medium.com/swlh/make-your-raspberry-pi-file-system-read-only-raspbian-buster-c558694de79.</p>
<h2>What went wrong</h2>
<p>I didn't have udev admin rules applied. Needed </p>
<p>https://github.com/chrippa/ds4drv/blob/master/udev/50-ds4drv.rules</p>
<div class="codehilite"><pre><span></span><code>sudo udevadm trigger
</code></pre></div>

<p>Next </p>
<div class="codehilite"><pre><span></span><code>Can&#39;t init device hci0: Operation not permitted (1)
[info][controller 1] Created devices /dev/input/js0 (joystick) /dev/input/event0 (evdev)
[info][bluetooth] Scanning for devices
</code></pre></div>

<p>Running the command</p>
<div class="codehilite"><pre><span></span><code><span class="nx">hciconfig</span><span class="w"> </span><span class="o">-</span><span class="nx">a</span>


<span class="nx">hci0</span><span class="p">:</span><span class="w">   </span><span class="nx">Type</span><span class="p">:</span><span class="w"> </span><span class="nx">Primary</span><span class="w">  </span><span class="nx">Bus</span><span class="p">:</span><span class="w"> </span><span class="nx">UART</span>
<span class="w">        </span><span class="nx">BD</span><span class="w"> </span><span class="nx">Address</span><span class="p">:</span><span class="w"> </span><span class="nx">DC</span><span class="p">:</span><span class="nx">A6</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">84</span><span class="p">:</span><span class="nx">AE</span><span class="p">:</span><span class="nx">C7</span><span class="w">  </span><span class="nx">ACL</span><span class="w"> </span><span class="nx">MTU</span><span class="p">:</span><span class="w"> </span><span class="mi">1021</span><span class="p">:</span><span class="mi">8</span><span class="w">  </span><span class="nx">SCO</span><span class="w"> </span><span class="nx">MTU</span><span class="p">:</span><span class="w"> </span><span class="mi">64</span><span class="p">:</span><span class="mi">1</span>
<span class="w">        </span><span class="nx">UP</span><span class="w"> </span><span class="nx">RUNNING</span>
<span class="w">        </span><span class="nx">RX</span><span class="w"> </span><span class="nx">bytes</span><span class="p">:</span><span class="mi">2687</span><span class="w"> </span><span class="nx">acl</span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="nx">sco</span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="nx">events</span><span class="p">:</span><span class="mi">102</span><span class="w"> </span><span class="nx">errors</span><span class="p">:</span><span class="mi">0</span>
<span class="w">        </span><span class="nx">TX</span><span class="w"> </span><span class="nx">bytes</span><span class="p">:</span><span class="mi">2987</span><span class="w"> </span><span class="nx">acl</span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="nx">sco</span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="nx">commands</span><span class="p">:</span><span class="mi">83</span><span class="w"> </span><span class="nx">errors</span><span class="p">:</span><span class="mi">0</span>
<span class="w">        </span><span class="nx">Features</span><span class="p">:</span><span class="w"> </span><span class="mh">0xbf</span><span class="w"> </span><span class="mh">0xfe</span><span class="w"> </span><span class="mh">0xcf</span><span class="w"> </span><span class="mh">0xfe</span><span class="w"> </span><span class="mh">0xdb</span><span class="w"> </span><span class="mh">0xff</span><span class="w"> </span><span class="mh">0x7b</span><span class="w"> </span><span class="mh">0x87</span>
<span class="w">        </span><span class="nx">Packet</span><span class="w"> </span><span class="k">type</span><span class="p">:</span><span class="w"> </span><span class="nx">DM1</span><span class="w"> </span><span class="nx">DM3</span><span class="w"> </span><span class="nx">DM5</span><span class="w"> </span><span class="nx">DH1</span><span class="w"> </span><span class="nx">DH3</span><span class="w"> </span><span class="nx">DH5</span><span class="w"> </span><span class="nx">HV1</span><span class="w"> </span><span class="nx">HV2</span><span class="w"> </span><span class="nx">HV3</span>
<span class="w">        </span><span class="nx">Link</span><span class="w"> </span><span class="nx">policy</span><span class="p">:</span><span class="w"> </span><span class="nx">RSWITCH</span><span class="w"> </span><span class="nx">SNIFF</span>
<span class="w">        </span><span class="nx">Link</span><span class="w"> </span><span class="nx">mode</span><span class="p">:</span><span class="w"> </span><span class="nx">SLAVE</span><span class="w"> </span><span class="nx">ACCEPT</span>
<span class="w">        </span><span class="nx">Name</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">pupper</span><span class="err">&#39;</span>
<span class="w">        </span><span class="nx">Class</span><span class="p">:</span><span class="w"> </span><span class="mh">0x000000</span>
<span class="w">        </span><span class="nx">Service</span><span class="w"> </span><span class="nx">Classes</span><span class="p">:</span><span class="w"> </span><span class="nx">Unspecified</span>
<span class="w">        </span><span class="nx">Device</span><span class="w"> </span><span class="nx">Class</span><span class="p">:</span><span class="w"> </span><span class="nx">Miscellaneous</span><span class="p">,</span>
<span class="w">        </span><span class="nx">HCI</span><span class="w"> </span><span class="nx">Version</span><span class="p">:</span><span class="w"> </span><span class="m m-Double">5.0</span><span class="w"> </span><span class="p">(</span><span class="mh">0x9</span><span class="p">)</span><span class="w">  </span><span class="nx">Revision</span><span class="p">:</span><span class="w"> </span><span class="mh">0x13b</span>
<span class="w">        </span><span class="nx">LMP</span><span class="w"> </span><span class="nx">Version</span><span class="p">:</span><span class="w"> </span><span class="m m-Double">5.0</span><span class="w"> </span><span class="p">(</span><span class="mh">0x9</span><span class="p">)</span><span class="w">  </span><span class="nx">Subversion</span><span class="p">:</span><span class="w"> </span><span class="mh">0x6119</span>
<span class="w">        </span><span class="nx">Manufacturer</span><span class="p">:</span><span class="w"> </span><span class="nx">Cypress</span><span class="w"> </span><span class="nx">Semiconductor</span><span class="w"> </span><span class="nx">Corporation</span><span class="w"> </span><span class="p">(</span><span class="mi">305</span><span class="p">)</span>
</code></pre></div>
    </article>

        <div class="tags">
            <p>tags: <a class="hover:text-indigo-500 duration-300 underline" href="https://androiddrew.github.io/tag/pupper.html">pupper</a>, <a class="hover:text-indigo-500 duration-300 underline" href="https://androiddrew.github.io/tag/pi.html">pi</a>, <a class="hover:text-indigo-500 duration-300 underline" href="https://androiddrew.github.io/tag/robotics.html">robotics</a>, <a class="hover:text-indigo-500 duration-300 underline" href="https://androiddrew.github.io/tag/python.html">python</a>, <a class="hover:text-indigo-500 duration-300 underline" href="https://androiddrew.github.io/tag/ubuntu.html">ubuntu</a></p>
        </div>


        </div>
      </div>
    </main>
    <!-- End Main Content -->
    <hr class="mt-12" />
    <!-- Footer -->
<footer>
    <div class="mx-auto max-w-7xl overflow-hidden py-12 px-4 sm:px-6 lg:px-8">
      <div class="mt-8 flex justify-center space-x-6">
      </div>
      <p class="mt-8 text-center text-base text-gray-400">
        &copy; <script>document.write( new Date().getFullYear())</script> Drew Bednar. All rights reserved.
      </p>
    </div>
  </footer>
    <!-- End Footer -->
    <!-- Custom Theme JavaScript -->
    <script src="https://androiddrew.github.io/theme/js/ruckenwind.js"></script>
 
    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'G-Q1PJ9PSLM4', 'auto');
    ga('send', 'pageview');
</script>

  </body>
</html>